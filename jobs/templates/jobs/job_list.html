{% extends "base.html" %}
{% load i18n %}
{% load scivm %}

{% block content %}
<div class="panel panel-default">
    <div class="panel-heading heading-large">
        <span class="panel-title section-title">{% trans 'Jobs' %}</span>
        <span class="section-toolbar">
        </span>
    </div>
    <div class="panel-body">
        {% if page_obj %}
        <table class="table table-hover table-bordered">
            <thead>
                <tr>
                    <th>{% trans 'id' %}</th>
                    <th>{% trans 'parent' %}</th>
                    <th>{% trans 'key' %}</th>
                    <th>{% trans 'hostname' %}</th>
                    <th>{% trans 'function' %}</th>
                    <th>{% trans 'label' %}</th>
                    <th>{% trans 'created' %}</th>
                    <th>{% trans 'status' %}</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for job in page_obj.object_list %}
                {% include "jobs/job_table_entry.html" %}
                {% endfor %}
            </tbody>
        </table>
    
        {% if paginator.num_pages > 1 %}
        <div class="pagination">
            <span class="step-links">
                {% if page_obj.has_previous %}
                <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}

                <span class="current">
                Page {{ page_obj.number }} of {{ paginator.num_pages }}.
                </span>

                {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">next</a>
                {% endif %}
            </span>
        </div>
        {% endif %}
        
        {% else %}
        <div class="text-muted">{% trans 'No jobs' %}</div>
        {% endif %}
    </div>
</div>
{% include "jobs/_common.html" %}
<script type="text/javascript">
(function() {
})($)
</script>
{% endblock %}
